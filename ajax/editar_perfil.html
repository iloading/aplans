<script>
    function editarPerfil() {

        $.ajax({ // ajax call starts
            url: 'scripts/sc_editar_perfil.php',
            dataType: 'json', // Choosing a JSON datatype

        }).done(function (data) {
            $("#conteudoPagina").html(""); //limpar o conteudo da pagina


            var cadaPreferencia = '';




             for (let i = 0; i < data.tipoEvento.length; i++) {


                cadaPreferencia += '<div class="d-flex"> <div> <img src="images' + data.tipoEvento[i]["url"] + '" style="width:20px;"></div> <div> <p class="m-0">' + data.tipoEvento[i]["nome"] + '</p> </div> <div class="position-absolute" style="right: 5%;"> <input type="checkbox"> </div> </div>';

                 
                 
            }



            var editarPerfil ='<main class="text-black bg-white d-flex flex-column align-items-start topRedondo"> <article class="container d-flex flex-column pl-3 pr-3 pt-4 pb-4" style="max-width:inherit; background-color: #3C5E77;" id="nav"> <div class="d-flex flex-column"> <div class="d-flex justify-content-between"> <div class="d-flex align-items-center "> <img style="width: 1.1rem; height:1.1rem" src="images/others/back (5).png"> </div> </div> <div class="d-flex justify-content-center"> <div class="text-center btn-evento"> <div class=" avatar-circular"> <img src="assets/avatar.png"> </div> </div> </div> <div class="d-flex justify-content-center"> <h3 class="font-weight-bold text-branco-evento">Casandra Faneca</h3> </div>  </div> </article> <div class="positon-relative container p-0 mb-5 d-flex flex-column pl-4 pr-4 pt-4 pb-4 m-0"> <div> <div class="container d-flex flex-column mb-4 p-0"> <h5 class="font-weight-bold">Nome</h5> <span class="perfil_Inputs_nome" role="textbox" contenteditable></span> </div> <div class="container d-flex flex-column mb-4 p-0"> <h5 class="font-weight-bold">Email</h5> <span class="perfil_Inputs_email" role="textbox" contenteditable></span> </div><div class="container d-flex flex-column mb-4 p-0"> <h5 class="font-weight-bold">Morada</h5> <span class="perfil_Inputs_morada" role="textbox" contenteditable></span> </div> <div class="container d-flex p-0 mb-4"> <div class="container d-flex flex-column p-0 mr-2" style="width: 55%;"> <h5 class="font-weight-bold">Telemóvel</h5> <span class="perfil_Inputs_telemovel" role="textbox" contenteditable></span> </div> <div class="container d-flex flex-column p-0" style="width: 45%;"> <h5 class="font-weight-bold">Género</h5> <select class="perfil_Inputs" name="genero" style="color:grey;"> <option value="Masculino">Masculino</option> <option value="Feminino">Feminino</option> <option value="Outros">Outros</option> </select> </div> </div> <div class="container d-flex flex-column mb-4 p-0"> <h5 class="font-weight-bold">Descrição</h5> <span class="perfil_Inputs_descricao" role="textbox" contenteditable></span> </div> <div class="container d-flex flex-column mb-4 p-0"> <div class="text-center dropbtn botaoPreferencias" id="preferenciasMenu"> <h5 class="font-weight-bold m-0 pt-2 pb-2" style="color:#3C5E77;">Preferencias</h5> <div class="d-flex justify-content-center" > <img style="width: 1.1rem; height:1.1rem;transform: rotate(270deg);" src="images/others/back (5).png"> </div> </div> <div id="preferenciasDrop" class="dropdown-content_preferencias"> <div class="p-0">'+cadaPreferencia+' </div> <div class="w-100 position-absolute text-center" id="fecharPessoasAdd" style="bottom:0;"> <img src="images/others/close.png" style="width:3rem;"> </div> </div> </div> </div> <div class="text-center"><button class="pl-3 pr-3 pt-1 pb-1 botaoCriarEvento">Atualizar</button></div> </main>';

             $("#conteudoPagina").append(editarPerfil);



            /* Quando o utilizador clica no seu avatar */
            function menu_avatar() {
                $("#preferenciasDrop").toggleClass("showPreferencias");
            }

            $(document).on("click", "#preferenciasMenu", function () {
                menu_avatar();
            });

            $(document).on("click", "#fecharPessoasAdd", function () {
                $("#preferenciasDrop").removeClass('showPreferencias');
            });

        });



    }


    
</script>