<script>
    function mostrarHome() {
         
        $.ajax({ // ajax call starts
            url: 'scripts/sc_home.php',
            dataType: 'json', // Choosing a JSON datatype
            
        })
        
        .done(function (data) {
            $('#conteudoPagina').html(''); //limpa o conte√∫do da tabela
           console.log(data);

           var eventosCriados = '';
           var indicators = '';
           var upcoming = '';
           var cardsAmigos ='';
           var listaAmigos= '';

            console.log(data.created[0]);
            if (data.created[0] != 'vazio'){
                for (let i = 0; i < data.created.length; i++) {
                    if (i == 0) {
                        eventosCriados += '<div class="carousel-item active"> <div class="events container-fluid"> <div class="row"> <p class="col-12">' + data.created[i]["nomeEventoCriado"] + '</p> <p class="col-12">' + data.created[i]["dataEventoCriado"] + '</p> </div> </div> </div>';
                        indicators += '<li class="active" data-target="#carouselExampleIndicators1" data-slide-to="'+i+'"></li>'
                    }else{
                        eventosCriados += '<div class="carousel-item"> <div class="events container-fluid"> <div class="row"> <p class="col-12">' + data.created[i]["nomeEventoCriado"] + '</p> <p class="col-12">' + data.created[i]["dataEventoCriado"] + '</p> </div> </div> </div>';
                        indicators += '<li data-target="#carouselExampleIndicators1" data-slide-to="' + i + '"></li>';
                    }
                        
                }
            }
            

            for (let i = 0; i < data.upcoming.length; i++) {
                if (i < 8) {
                    upcoming += ' <div class="col-3 text-center"> <div class="add-event"><img src="images'+ data.upcoming[i]["icon_tipo"] +'" class="w-50"></div> <p>'+ data.upcoming[i]["nome_evento"]+'</p> </div>';
                }
              
            }

            for (let i = 0; i < data.amigos.length; i++) {

                if(i<3){
                    cardsAmigos += '<div class="events container-fluid p-0" style="height: 16vh; max-width:30%;"> <div class="row"> <p class="col-12">' + data.amigos[i]["nomesAmigos"] + '</p></div> </div> ';

                }

                listaAmigos +=' <div class="container"> <div class="row"> <div class="col-3 d-flex justify-content-center p-0"> <div> <img class="avatar-circular" src="images' + data.amigos[i]["imagem_amigo"] +'" alt="user"> </div> </div> <div class="col-4 p-0 d-flex align-items-center"> <p class="m-0"><a href="#" class="profile-link">' + data.amigos[i]["nomesAmigos"] + '</a></p> </div> <div class="col-5 d-flex align-items-center justify-content-end"> <button class="btn btn-primary pull-right">Eliminar</button> </div> </div> </div>';

                 //listaAmigos += '<div class="row mb-4 pt-3 pb-3" > <div class="pl-0 pt-2 pb-4 pr-0 ml-5 d-flex align-items-center col-2"> <div class=" avatar-circular"><img src="images' + data.amigos[i][" imagem_amigo"] +'"> </div> </div> <div class="pl-3 d-flex align-items-center col-9"> <div class="row"> <div class="col-12 pr-0"> <span class="display-4 font-weight-normal">' + data.amigos[i]["nomesAmigos"] + '</span></div> <h1 class="col-12 display-6 font-weight-light" style="margin-bottom: 8px;">Popcorn Dealer</h1> </div> </div> </div>';
                   
            }

    
            
            var home = '<main id="main" class="alturaMainLogin text-white bg-azul-aplans d-flex flex-column align-items-start"> <div class="container p-3"> <section class="row d-flex" style="align-items: center;"> <div class="col-6 text-left" style="height: 100%;"> <div class="div-logo"><a href="index.php"><img src="assets/aplans.png" alt="logotipo"></a></div> </div> <div class="col-6 text-right" style="height:100%"> <div class="avatar-circular"><img src="assets/avatar.png" alt="avatar"></div> </div> </section> </div> <div class="container p-3"> <section class="row pl-3"> <p class="index-titulos">Created Plans</p> </section> <section class="row" style="align-items: center;"> <div class="col-4"> <div class="add-event">+</div> </div> <div id="carouselExampleIndicators1" class="carousel slide col-8" data-interval="false"> <ol class="carousel-indicators" style="bottom: -6vh;">'+indicators+'</ol> <div class="carousel-inner"> '+eventosCriados+' </div> <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev" style="left: -2vw"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next" style="right: -2vw"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> </section> </div> <div class="container p-3"> <section class="row"> <div class="col-6"> <p class="index-titulos">Upcoming plans</p> </div> <div class="col-6"> </div> </section> <section class="row">'+upcoming+'</section> </div> <div class="container p-3"> <section class="row pl-3"> <p class="index-titulos col-6 p-0">Meus Amigos</p> <p class="index-titulos text-right col-6 " style="font-size:small;"><a data-toggle="modal" data-target="#mostarAmigos">Ver todos</a></p> </section> <section class="row" style="align-items: center;"> <div class="col-3"> <div class="add-event">+</div> </div> <div class="col-9 row p-0">'+cardsAmigos+'</div> </section> </div></main>'
           
           
           
           
           
            $('#conteudoPagina').append(home);
            $('#amigosBody').append(listaAmigos);
        })
    }

</script>




<!-- Modal -->
<div class="modal fade" id="mostarAmigos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Amigos</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div id="amigosBody"class="modal-body">




            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>